!function(){var e=function(){var e="function"==typeof require&&require,t=function(n,i,o){i||(i=0);var r=t.resolve(n,i),a=t.m[i][r];if(!a&&e){if(a=e(r))return a}else if(a&&a.c&&(i=a.c,r=a.m,a=t.m[i][a.m],!a))throw new Error('failed to require "../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/'+r+'" from '+i);if(!a)throw new Error('failed to require "../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/'+n+'" from '+o);return a.exports||(a.exports={},a.call(a.exports,a,a.exports,t.relative(r,i))),a.exports};return t.resolve=function(e,n){var i=e,o=e+".js",r=e+"/index.js";return t.m[n][o]&&o?o:t.m[n][r]&&r?r:i},t.relative=function(e,n){return function(i){if("."!=i.charAt(0))return t(i,n,e);var o=e.split("/"),r=i.split("/");o.pop();for(var a=0;a<r.length;a++){var s=r[a];".."==s?o.pop():"."!=s&&o.push(s)}return t(o.join("/"),n,e)}},t}();e.m=[],e.m[0]={microee:{c:2,m:"index.js"},"lib/web/index.js":function(e,t,n){var i=n("../common/../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog.js"),o=i.enable,r=i.disable,a="undefined"!=typeof navigator&&/chrome/i.test(navigator.userAgent),s=n("./console.js");if(i.defaultBackend=a?s.../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog:s,"undefined"!=typeof window){try{i.enable(JSON.parse(window.localStorage.../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilogSettings))}catch(c){}if(window.location&&window.location.search){var l=RegExp("[?&]../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog=([^&]*)").exec(window.location.search);l&&i.enable(decodeURIComponent(l[1]))}}i.enable=function(){o.call(i,!0);try{window.localStorage.../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilogSettings=JSON.stringify(!0)}catch(e){}return this},i.disable=function(){r.call(i);try{delete window.localStorage.../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilogSettings}catch(e){}return this},t=e.exports=i,t.backends={array:n("./array.js"),browser:i.defaultBackend,localStorage:n("./localstorage.js"),jQuery:n("./jquery_simple.js")}},"lib/web/array.js":function(e,t,n){var i=n("../common/transform.js"),o=[],r=new i;r.write=function(e,t,n){o.push([e,t,n])},r.get=function(){return o},r.empty=function(){o=[]},e.exports=r},"lib/web/console.js":function(e,t,n){var i=n("../common/transform.js"),o=/\n+$/,r=new i;r.write=function(e,t,n){var i=n.length-1;if("undefined"!=typeof console&&console.log){if(console.log.apply)return console.log.apply(console,[e,t].concat(n));if(JSON&&JSON.stringify){n[i]&&"string"==typeof n[i]&&(n[i]=n[i].replace(o,""));try{for(i=0;i<n.length;i++)n[i]=JSON.stringify(n[i])}catch(r){}console.log(n.join(" "))}}},r.formatters=["color","../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog"],r.color=n("./formatters/color.js"),r.../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog=n("./formatters/../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog.js"),e.exports=r},"lib/common/filter.js":function(e,t,n){function i(){this.enabled=!0,this.defaultResult=!0,this.clear()}function o(e,t){return e.n.test?e.n.test(t):e.n==t}var r=n("./transform.js"),a={debug:1,info:2,warn:3,error:4};r.mixin(i),i.prototype.allow=function(e,t){return this._white.push({n:e,l:a[t]}),this},i.prototype.deny=function(e,t){return this._black.push({n:e,l:a[t]}),this},i.prototype.clear=function(){return this._white=[],this._black=[],this},i.prototype.test=function(e,t){var n,i=Math.max(this._white.length,this._black.length);for(n=0;i>n;n++){if(this._white[n]&&o(this._white[n],e)&&a[t]>=this._white[n].l)return!0;if(this._black[n]&&o(this._black[n],e)&&a[t]<this._black[n].l)return!1}return this.defaultResult},i.prototype.write=function(e,t,n){return!this.enabled||this.test(e,t)?this.emit("item",e,t,n):void 0},e.exports=i},"lib/common/../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog.js":function(e,t,n){var i=n("./transform.js"),o=n("./filter.js"),r=new i,a=Array.prototype.slice;t=e.exports=function(e){var n=function(){return r.write(e,void 0,a.call(arguments)),n};return n.debug=function(){return r.write(e,"debug",a.call(arguments)),n},n.info=function(){return r.write(e,"info",a.call(arguments)),n},n.warn=function(){return r.write(e,"warn",a.call(arguments)),n},n.error=function(){return r.write(e,"error",a.call(arguments)),n},n.log=n.debug,n.suggest=t.suggest,n.format=r.format,n},t.defaultBackend=t.defaultFormatter=null,t.pipe=function(e){return r.pipe(e)},t.end=t.unpipe=t.disable=function(e){return r.unpipe(e)},t.Transform=i,t.Filter=o,t.suggest=new o,t.enable=function(){return t.defaultFormatter?r.pipe(t.suggest).pipe(t.defaultFormatter).pipe(t.defaultBackend):r.pipe(t.suggest).pipe(t.defaultBackend)}},"lib/common/transform.js":function(e,t,n){function i(){}var o=n("microee");o.mixin(i),i.prototype.write=function(e,t,n){this.emit("item",e,t,n)},i.prototype.end=function(){this.emit("end"),this.removeAllListeners()},i.prototype.pipe=function(e){function t(){e.write.apply(e,Array.prototype.slice.call(arguments))}function n(){!e._isStdio&&e.end()}var i=this;return i.emit("unpipe",e),e.emit("pipe",i),i.on("item",t),i.on("end",n),i.when("unpipe",function(o){var r=o===e||"undefined"==typeof o;return r&&(i.removeListener("item",t),i.removeListener("end",n),e.emit("unpipe")),r}),e},i.prototype.unpipe=function(e){return this.emit("unpipe",e),this},i.prototype.format=function(){throw new Error(["Warning: .format() is deprecated in Minilog v2! Use .pipe() instead. For example:","var Minilog = require('../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog');","Minilog","  .pipe(Minilog.backends.console.formatClean)","  .pipe(Minilog.backends.console);"].join("\n"))},i.mixin=function(e){var t,n=i.prototype;for(t in n)n.hasOwnProperty(t)&&(e.prototype[t]=n[t])},e.exports=i},"lib/web/localstorage.js":function(e,t,n){var i=n("../common/transform.js"),o=!1,r=new i;r.write=function(e,t,n){if("undefined"!=typeof window&&"undefined"!=typeof JSON&&JSON.stringify&&JSON.parse)try{o||(o=window.localStorage.../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog?JSON.parse(window.localStorage.../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog):[]),o.push([(new Date).toString(),e,t,n]),window.localStorage.../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog=JSON.stringify(o)}catch(i){}},e.exports=r},"lib/web/jquery_simple.js":function(e,t,n){function i(e){this.url=e.url||"",this.cache=[],this.timer=null,this.interval=e.interval||3e4,this.enabled=!0,this.jQuery=window.jQuery,this.extras={}}var o=n("../common/transform.js"),r=(new Date).valueOf().toString(36);o.mixin(i),i.prototype.write=function(e,t,n){this.timer||this.init(),this.cache.push([e,t].concat(n))},i.prototype.init=function(){if(this.enabled&&this.jQuery){var e=this;this.timer=setTimeout(function(){var t,n,i=[],o=e.url;if(0==e.cache.length)return e.init();for(t=0;t<e.cache.length;t++)try{i.push(JSON.stringify(e.cache[t]))}catch(a){}e.jQuery.isEmptyObject(e.extras)?(n=i.join("\n"),o=e.url+"?client_id="+r):n=JSON.stringify(e.jQuery.extend({logs:i},e.extras)),e.jQuery.ajax(o,{type:"POST",cache:!1,processData:!1,data:n,contentType:"application/json",timeout:1e4}).success(function(t){t.interval&&(e.interval=Math.max(1e3,t.interval))}).error(function(){e.interval=3e4}).always(function(){e.init()}),e.cache=[]},this.interval)}},i.prototype.end=function(){},i.jQueryWait=function(e){return"undefined"!=typeof window&&(window.jQuery||window.$)?e(window.jQuery||window.$):void("undefined"!=typeof window&&setTimeout(function(){i.jQueryWait(e)},200))},e.exports=i},"lib/web/formatters/util.js":function(e){function t(e,t){return t?"color: #fff; background: "+n[e]+";":"color: "+n[e]+";"}var n={black:"#000",red:"#c23621",green:"#25bc26",yellow:"#bbbb00",blue:"#492ee1",magenta:"#d338d3",cyan:"#33bbc8",gray:"#808080",purple:"#708"};e.exports=t},"lib/web/formatters/color.js":function(e,t,n){var i=n("../../common/transform.js"),o=n("./util.js"),r={debug:["cyan"],info:["purple"],warn:["yellow",!0],error:["red",!0]},a=new i;a.write=function(e,t,n){var i=console.log;console[t]&&console[t].apply&&(i=console[t],i.apply(console,["%c"+e+" %c"+t,o("gray"),o.apply(o,r[t])].concat(n)))},a.pipe=function(){},e.exports=a},"lib/web/formatters/../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/minilog.js":function(e,t,n){var i=n("../../common/transform.js"),o=n("./util.js");colors={debug:["gray"],info:["purple"],warn:["yellow",!0],error:["red",!0]},logger=new i,logger.write=function(e,t,n){var i=console.log;"debug"!=t&&console[t]&&(i=console[t]);var r=0;if("info"!=t){for(;r<n.length&&"string"==typeof n[r];r++);i.apply(console,["%c"+e+" "+n.slice(0,r).join(" "),o.apply(o,colors[t])].concat(n.slice(r)))}else i.apply(console,["%c"+e,o.apply(o,colors[t])].concat(n))},logger.pipe=function(){},e.exports=logger}},e.m[1]={},e.m[2]={"index.js":function(e){function t(){this._events={}}t.prototype={on:function(e,t){this._events||(this._events={});var n=this._events;return(n[e]||(n[e]=[])).push(t),this},removeListener:function(e,t){var n,i=this._events[e]||[];for(n=i.length-1;n>=0&&i[n];n--)(i[n]===t||i[n].cb===t)&&i.splice(n,1)},removeAllListeners:function(e){e?this._events[e]&&(this._events[e]=[]):this._events={}},emit:function(e){this._events||(this._events={});var t,n=Array.prototype.slice.call(arguments,1),i=this._events[e]||[];for(t=i.length-1;t>=0&&i[t];t--)i[t].apply(this,n);return this},when:function(e,t){return this.once(e,t,!0)},once:function(e,t,n){function i(){n||this.removeListener(e,i),t.apply(this,arguments)&&n&&this.removeListener(e,i)}return t?(i.cb=t,this.on(e,i),this):this}},t.mixin=function(e){var n,i=t.prototype;for(n in i)i.hasOwnProperty(n)&&(e.prototype[n]=i[n])},e.exports=t}},Minilog=e("lib/web/index.js")}();var log=Minilog("cellar:");!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return p({type:w.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),g=e("#"+t.containerId),g.length?g:(n&&(g=d(t)),g)}function i(e,t,n){return p({type:w.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){y=e}function r(e,t,n){return p({type:w.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return p({type:w.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function s(e){var t=m();g||n(t),u(e,t)||l(t)}function c(t){var i=m();return g||n(i),t&&0===e(":focus",t).length?void v(t):void(g.children().length&&g.remove())}function l(t){for(var n=g.children(),i=n.length-1;i>=0;i--)u(e(n[i]),t)}function u(t,n){return t&&0===e(":focus",t).length?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){v(t)}}),!0):!1}function d(t){return g=e("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert"),g.appendTo(e(t.target)),g}function f(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function h(e){y&&y(e)}function p(t){function i(t){return!e(":focus",l).length||t?l[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){v(l),a.onHidden&&"hidden"!==p.state&&a.onHidden(),p.state="hidden",p.endTime=new Date,h(p)}}):void 0}function o(){(a.timeOut>0||a.extendedTimeOut>0)&&(c=setTimeout(i,a.extendedTimeOut))}function r(){clearTimeout(c),l.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}var a=m(),s=t.iconClass||a.iconClass;"undefined"!=typeof t.optionsOverride&&(a=e.extend(a,t.optionsOverride),s=t.optionsOverride.iconClass||s),b++,g=n(a,!0);var c=null,l=e("<div/>"),u=e("<div/>"),d=e("<div/>"),f=e(a.closeHtml),p={toastId:b,state:"visible",startTime:new Date,options:a,map:t};return t.iconClass&&l.addClass(a.toastClass).addClass(s),t.title&&(u.append(t.title).addClass(a.titleClass),l.append(u)),t.message&&(d.append(t.message).addClass(a.messageClass),l.append(d)),a.closeButton&&(f.addClass("toast-close-button").attr("role","button"),l.prepend(f)),l.hide(),a.newestOnTop?g.prepend(l):g.append(l),l[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(c=setTimeout(i,a.timeOut)),l.hover(r,o),!a.onclick&&a.tapToDismiss&&l.click(i),a.closeButton&&f&&f.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),i(!0)}),a.onclick&&l.click(function(){a.onclick(),i()}),h(p),a.debug&&console&&console.log(p),l}function m(){return e.extend({},f(),x.options)}function v(e){g||(g=n()),e.is(":visible")||(e.remove(),e=null,0===g.children().length&&g.remove())}var g,y,b=0,w={error:"error",info:"info",success:"success",warning:"warning"},x={clear:s,remove:c,error:t,getContainer:n,info:i,options:{},subscribe:o,success:r,version:"2.0.3",warning:a};return x}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/jquery")):window.toastr=t(window.jQuery)}),toastr.options={closeButton:!0,debug:!1,positionClass:"toast-bottom-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},function(e){e.extend({do_get:function(t,n){document.location=t+"?"+e.param(n)},do_post:function(t,n){var i=e("<form>",{action:t,method:"post"});e.each(n,function(t,n){e("<input/>",{type:"hidden",name:t,value:n}).appendTo(i)}),i.appendTo("body"),i.submit()}})}(jQuery),function(e){e.flexslider=function(t,n){var i=e(t);i.vars=e.extend({},e.flexslider.defaults,n);var o,r=i.vars.namespace,a=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,s=("ontouchstart"in window||a||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,c="click touchend MSPointerUp keyup",l="",u="vertical"===i.vars.direction,d=i.vars.reverse,f=i.vars.itemWidth>0,h="fade"===i.vars.animation,p=""!==i.vars.asNavFor,m={},v=!0;e.data(t,"flexslider",i),m={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!h&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return i.pfx=t[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&m.controlNav.setup(),i.vars.directionNav&&m.directionNav.setup(),i.vars.keyboard&&(1===e(i.containerSelector).length||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(39===t||37===t)){var n=39===t?i.getTarget("next"):37===t?i.getTarget("prev"):!1;i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t){e.preventDefault();var n=i.getTarget(0>t?"next":"prev");i.flexAnimate(n,i.vars.pauseOnAction)}),i.vars.pausePlay&&m.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&m.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&m.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),p&&m.asNav.setup(),s&&i.vars.touch&&m.touch(),(!h||h&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",m.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(r+"active-slide").eq(i.currentItem).addClass(r+"active-slide"),a?(t._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),o=n.index();e(i.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(i.direction=i.currentItem<o?"next":"prev",i.flexAnimate(o,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(c,function(t){t.preventDefault();var n=e(this),o=n.index(),a=n.offset().left-e(i).scrollLeft();0>=a&&n.hasClass(r+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):e(i.vars.asNavFor).data("flexslider").animating||n.hasClass(r+"active-slide")||(i.direction=i.currentItem<o?"next":"prev",i.flexAnimate(o,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var t,n,o="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",a=1;if(i.controlNavScaffold=e('<ol class="'+r+"control-nav "+r+o+'"></ol>'),i.pagingCount>1)for(var s=0;s<i.pagingCount;s++){if(n=i.slides.eq(s),t="thumbnails"===i.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+a+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=n.attr("data-thumbcaption");""!=u&&void 0!=u&&(t+='<span class="'+r+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+t+"</li>"),a++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),m.controlNav.set(),m.controlNav.active(),i.controlNavScaffold.delegate("a, img",c,function(t){if(t.preventDefault(),""===l||l===t.type){var n=e(this),o=i.controlNav.index(n);n.hasClass(r+"active")||(i.direction=o>i.currentSlide?"next":"prev",i.flexAnimate(o,i.vars.pauseOnAction))}""===l&&(l=t.type),m.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,m.controlNav.active(),i.controlNav.bind(c,function(t){if(t.preventDefault(),""===l||l===t.type){var n=e(this),o=i.controlNav.index(n);n.hasClass(r+"active")||(i.direction=o>i.currentSlide?"next":"prev",i.flexAnimate(o,i.vars.pauseOnAction))}""===l&&(l=t.type),m.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=e("."+r+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(r+"active").eq(i.animatingTo).addClass(r+"active")},update:function(t,n){i.pagingCount>1&&"add"===t?i.controlNavScaffold.append(e("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),m.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,t):m.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+r+'direction-nav"><li><a class="'+r+'prev" href="#">'+i.vars.prevText+'</a></li><li><a class="'+r+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+r+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+r+"direction-nav li a",i)),m.directionNav.update(),i.directionNav.bind(c,function(t){t.preventDefault();var n;(""===l||l===t.type)&&(n=i.getTarget(e(this).hasClass(r+"next")?"next":"prev"),i.flexAnimate(n,i.vars.pauseOnAction)),""===l&&(l=t.type),m.setToClearWatchedEvent()})},update:function(){var e=r+"disabled";1===i.pagingCount?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(e).filter("."+r+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+r+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+r+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+r+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+r+"pauseplay a",i)),m.pausePlay.update(i.vars.slideshow?r+"pause":r+"play"),i.pausePlay.bind(c,function(t){t.preventDefault(),(""===l||l===t.type)&&(e(this).hasClass(r+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===l&&(l=t.type),m.setToClearWatchedEvent()})},update:function(e){"play"===e?i.pausePlay.removeClass(r+"pause").addClass(r+"play").html(i.vars.playText):i.pausePlay.removeClass(r+"play").addClass(r+"pause").html(i.vars.pauseText)}},touch:function(){function e(e){i.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(i.pause(),v=u?i.h:i.w,y=Number(new Date),w=e.touches[0].pageX,x=e.touches[0].pageY,m=f&&d&&i.animatingTo===i.last?0:f&&d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:f&&i.currentSlide===i.last?i.limit:f?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:d?(i.last-i.currentSlide+i.cloneOffset)*v:(i.currentSlide+i.cloneOffset)*v,l=u?x:w,p=u?w:x,t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",o,!1))}function n(e){w=e.touches[0].pageX,x=e.touches[0].pageY,g=u?l-x:l-w,b=u?Math.abs(g)<Math.abs(w-p):Math.abs(g)<Math.abs(x-p);var t=500;(!b||Number(new Date)-y>t)&&(e.preventDefault(),!h&&i.transitions&&(i.vars.animationLoop||(g/=0===i.currentSlide&&0>g||i.currentSlide===i.last&&g>0?Math.abs(g)/v+2:1),i.setProps(m+g,"setTouch")))}function o(){if(t.removeEventListener("touchmove",n,!1),i.animatingTo===i.currentSlide&&!b&&null!==g){var e=d?-g:g,r=i.getTarget(e>0?"next":"prev");i.canAdvance(r)&&(Number(new Date)-y<550&&Math.abs(e)>50||Math.abs(e)>v/2)?i.flexAnimate(r,i.vars.pauseOnAction):h||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}t.removeEventListener("touchend",o,!1),l=null,p=null,g=null,m=null}function r(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),t._gesture.addPointer(e.pointerId),k=0,v=u?i.h:i.w,y=Number(new Date),m=f&&d&&i.animatingTo===i.last?0:f&&d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:f&&i.currentSlide===i.last?i.limit:f?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:d?(i.last-i.currentSlide+i.cloneOffset)*v:(i.currentSlide+i.cloneOffset)*v)}function s(e){e.stopPropagation();var n=e.target._slider;if(n){var i=-e.translationX,o=-e.translationY;return k+=u?o:i,g=k,b=u?Math.abs(k)<Math.abs(-i):Math.abs(k)<Math.abs(-o),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!b||Number(new Date)-y>500)&&(e.preventDefault(),!h&&n.transitions&&(n.vars.animationLoop||(g=k/(0===n.currentSlide&&0>k||n.currentSlide===n.last&&k>0?Math.abs(k)/v+2:1)),n.setProps(m+g,"setTouch"))))}}function c(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!b&&null!==g){var n=d?-g:g,i=t.getTarget(n>0?"next":"prev");t.canAdvance(i)&&(Number(new Date)-y<550&&Math.abs(n)>50||Math.abs(n)>v/2)?t.flexAnimate(i,t.vars.pauseOnAction):h||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}l=null,p=null,g=null,m=null,k=0}}var l,p,m,v,g,y,b=!1,w=0,x=0,k=0;a?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",r,!1),t._slider=i,t.addEventListener("MSGestureChange",s,!1),t.addEventListener("MSGestureEnd",c,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!i.animating&&i.is(":visible")&&(f||i.doMath(),h?m.smoothHeight():f?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&m.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!u||h){var t=h?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).height()},e):t.height(i.slides.eq(i.animatingTo).height())}},sync:function(t){var n=e(i.vars.sync).data("flexslider"),o=i.animatingTo;switch(t){case"animate":n.flexAnimate(o,i.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(m.pauseInvisible.visProp=e[t]+"Hidden");if(m.pauseInvisible.visProp){var n=m.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){m.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){return document[m.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(o),o=setTimeout(function(){l=""},3e3)}},i.flexAnimate=function(t,n,o,a,c){if(i.vars.animationLoop||t===i.currentSlide||(i.direction=t>i.currentSlide?"next":"prev"),p&&1===i.pagingCount&&(i.direction=i.currentItem<t?"next":"prev"),!i.animating&&(i.canAdvance(t,c)||o)&&i.is(":visible")){if(p&&a){var l=e(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===t||t===i.count-1,l.flexAnimate(t,!0,!1,!0,c),i.direction=i.currentItem<t?"next":"prev",l.direction=i.direction,Math.ceil((t+1)/i.visible)-1===i.currentSlide||0===t)return i.currentItem=t,i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),t=Math.floor(t/i.visible)}if(i.animating=!0,i.animatingTo=t,n&&i.pause(),i.vars.before(i),i.syncExists&&!c&&m.sync("animate"),i.vars.controlNav&&m.controlNav.active(),f||i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),i.atEnd=0===t||t===i.last,i.vars.directionNav&&m.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),h)s?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(b)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var v,g,y,b=u?i.slides.filter(":first").height():i.computedW;f?(v=i.vars.itemMargin,y=(i.itemW+v)*i.move*i.animatingTo,g=y>i.limit&&1!==i.visible?i.limit:y):g=0===i.currentSlide&&t===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?d?(i.count+i.cloneOffset)*b:0:i.currentSlide===i.last&&0===t&&i.vars.animationLoop&&"prev"!==i.direction?d?0:(i.count+1)*b:d?(i.count-1-t+i.cloneOffset)*b:(t+i.cloneOffset)*b,i.setProps(g,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(b)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(b)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(b)})}i.vars.smoothHeight&&m.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){h||f||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&v&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&m.pausePlay.update("play"),i.syncExists&&m.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&m.pausePlay.update("pause"),i.syncExists&&m.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var n=p?i.pagingCount-1:i.last;return t?!0:p&&i.currentItem===i.count-1&&0===e&&"prev"===i.direction?!0:p&&0===i.currentItem&&e===i.pagingCount-1&&"next"!==i.direction?!1:e!==i.currentSlide||p?i.vars.animationLoop?!0:i.atEnd&&0===i.currentSlide&&e===n&&"next"!==i.direction?!1:i.atEnd&&i.currentSlide===n&&0===e&&"next"===i.direction?!1:!0:!1},i.getTarget=function(e){return i.direction=e,"next"===e?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(e,t,n){var o=function(){var n=e?e:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,o=function(){if(f)return"setTouch"===t?e:d&&i.animatingTo===i.last?0:d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return d?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return d?e:e;case"jumpEnd":return d?e:i.count*e;case"jumpStart":return d?i.count*e:e;default:return e}}();return-1*o+"px"}();i.transitions&&(o=u?"translate3d(0,"+o+",0)":"translate3d("+o+",0,0)",n=void 0!==n?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=o,(i.transitions||void 0===n)&&i.container.css(i.args),i.container.css("transform",o)},i.setup=function(t){if(h)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(s?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&m.smoothHeight();else{var n,o;"init"===t&&(i.viewport=e('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,d&&(o=e.makeArray(i.slides).reverse(),i.slides=e(o),i.container.empty().append(i.slides))),i.vars.animationLoop&&!f&&(i.cloneCount=2,i.cloneOffset=1,"init"!==t&&i.container.find(".clone").remove(),i.container.append(m.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(m.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=e(i.vars.selector,i),n=d?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!f?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},"init"===t?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,"float":"left",display:"block"}),i.vars.smoothHeight&&m.smoothHeight()},"init"===t?100:0))}f||i.slides.removeClass(r+"active-slide").eq(i.currentSlide).addClass(r+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,n=i.vars.minItems,o=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),f?(i.itemT=i.vars.itemWidth+t,i.minW=n?n*i.itemT:i.w,i.maxW=o?o*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(n-1))/n:i.maxW<i.w?(i.w-t*(o-1))/o:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(e,t){i.doMath(),f||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&0!==e&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===t&&!f||i.pagingCount>i.controlNav.length?m.controlNav.update("add"):("remove"===t&&!f||i.pagingCount<i.controlNav.length)&&(f&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),m.controlNav.update("remove",i.last))),i.vars.directionNav&&m.directionNav.update()},i.addSlide=function(t,n){var o=e(t);i.count+=1,i.last=i.count-1,u&&d?void 0!==n?i.slides.eq(i.count-n).after(o):i.container.prepend(o):void 0!==n?i.slides.eq(n).before(o):i.container.append(o),i.update(n,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)
},i.removeSlide=function(t){var n=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():u&&d?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(n,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},m.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",o=n.find(i);1===o.length&&t.allowOneSlide===!0||0===o.length?(o.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,o=this,r=o.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,o=this.getListenersAsObject(e),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===t(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,o,r=this.getListenersAsObject(e);for(o in r)r.hasOwnProperty(o)&&(i=t(r[o],n),-1!==i&&r[o].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):a.call(this,i,o));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,o,r,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(i=a[o].length;i--;)n=a[o][i],n.once===!0&&this.removeListener(e,n.listener),r=n.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var o=function(){};n.removeEventListener?o=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(o=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var r={bind:i,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function o(e){return"[object Array]"===f.call(e)}function r(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function a(e,t,n){if(!(this instanceof a))return new a(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var o=this;setTimeout(function(){o.check()})}function s(e){this.img=e}function c(e){this.src=e,h[e]=this}var l=e.jQuery,u=e.console,d="undefined"!=typeof u,f=Object.prototype.toString;a.prototype=new t,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),o=0,r=i.length;r>o;o++){var a=i[o];this.addImage(a)}}},a.prototype.addImage=function(e){var t=new s(e);this.images.push(t)},a.prototype.check=function(){function e(e,o){return t.options.debug&&d&&u.log("confirm",e,o),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var o=0;i>o;o++){var r=this.images[o];r.on("confirm",e),r.check()}},a.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},l&&(l.fn.imagesLoaded=function(e,t){var n=new a(this,e,t);return n.jqDeferred.promise(l(this))}),s.prototype=new t,s.prototype.check=function(){var e=h[this.img.src]||new c(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var h={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},a}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){a(function(){var t,n;for(t=0;t<e.length;t++)n=e[t],n.obj.css(n.css)})}function n(t){return e.trim(t).toLowerCase()}var i,o,r;r=function(e,t){return function(){return e.apply(t,arguments)}},o={align:"center",autoResize:!1,comparator:null,container:e("body"),direction:void 0,ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,offset:2,outerOffset:0,onLayoutChanged:void 0,possibleFilters:[],resizeDelay:50,verticalOffset:void 0};var a=window.requestAnimationFrame||function(e){e()},s=e(window);i=function(){function i(t,n){this.handler=t,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.itemHeightsDirty=!0,this.placeholders=[],e.extend(!0,this,o,n),this.verticalOffset=this.verticalOffset||this.offset,this.update=r(this.update,this),this.onResize=r(this.onResize,this),this.onRefresh=r(this.onRefresh,this),this.getItemWidth=r(this.getItemWidth,this),this.layout=r(this.layout,this),this.layoutFull=r(this.layoutFull,this),this.layoutColumns=r(this.layoutColumns,this),this.filter=r(this.filter,this),this.clear=r(this.clear,this),this.getActiveItems=r(this.getActiveItems,this),this.refreshPlaceholders=r(this.refreshPlaceholders,this),this.sortElements=r(this.sortElements,this),this.updateFilterClasses=r(this.updateFilterClasses,this),this.updateFilterClasses(),this.autoResize&&s.bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return i.prototype.updateFilterClasses=function(){for(var e,t,i,o,r=0,a=0,s=0,c={},l=this.possibleFilters;r<this.handler.length;r++)if(t=this.handler.eq(r),e=t.data("filterClass"),"object"==typeof e&&e.length>0)for(a=0;a<e.length;a++)i=n(e[a]),"undefined"==typeof c[i]&&(c[i]=[]),c[i].push(t[0]);for(;s<l.length;s++)o=n(l[s]),o in c||(c[o]=[]);this.filterClasses=c},i.prototype.update=function(t){this.itemHeightsDirty=!0,e.extend(!0,this,t)},i.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!==this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},i.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},i.prototype.filter=function(t,i,o){var r,a,s,c,l,u=[],d=e();if(t=t||[],i=i||"or",o=o||!1,t.length){for(a=0;a<t.length;a++)l=n(t[a]),l in this.filterClasses&&u.push(this.filterClasses[l]);if(r=u.length,"or"==i||1==r)for(a=0;r>a;a++)d=d.add(u[a]);else if("and"==i){var f,h,p,m=u[0],v=!0;for(a=1;r>a;a++)u[a].length<m.length&&(m=u[a]);for(m=m||[],a=0;a<m.length;a++){for(h=m[a],v=!0,s=0;s<u.length&&v;s++)if(p=u[s],m!=p){for(c=0,f=!1;c<p.length&&!f;c++)f=p[c]==h;v&=f}v&&d.push(m[a])}}o||this.handler.not(d).addClass("inactive")}else d=this.handler;return o||(d.removeClass("inactive"),this.columns=null,this.layout()),d},i.prototype.refreshPlaceholders=function(t,n){for(var i,o,r,a,s,c,l=this.placeholders.length,u=this.columns.length,d=this.container.innerHeight();u>l;l++)i=e('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(i);for(c=this.offset+2*parseInt(this.placeholders[0].css("borderLeftWidth"),10),l=0;l<this.placeholders.length;l++)if(i=this.placeholders[l],r=this.columns[l],l>=u||!r[r.length-1])i.css("display","none");else{if(o=r[r.length-1],!o)continue;s=o.data("wookmark-top")+o.data("wookmark-height")+this.verticalOffset,a=d-s-c,i.css({position:"absolute",display:a>0?"block":"none",left:l*t+n,top:s,width:t-c,height:a})}},i.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):this.handler},i.prototype.getItemWidth=function(){var e=this.itemWidth,t=this.container.width()-2*this.outerOffset,n=this.handler.eq(0),i=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?e=n.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(e=parseFloat(this.itemWidth)/100*t),i){"string"==typeof i&&i.indexOf("%")>=0&&(i=parseFloat(i)/100*t);var o=t+this.offset,r=~~(.5+o/(i+this.offset)),a=~~(o/(e+this.offset)),s=Math.max(r,a),c=Math.min(i,~~((t-(s-1)*this.offset)/s));e=Math.max(e,c),this.handler.css("width",e)}return e},i.prototype.layout=function(e){if(this.container.is(":visible")){var t,n=this.getItemWidth()+this.offset,i=this.container.width(),o=i-2*this.outerOffset,r=~~((o+this.offset)/n),a=0,s=0,c=0,l=this.getActiveItems(),u=l.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;u>c;c++)t=l.eq(c),t.data("wookmark-height",t.outerHeight());this.itemHeightsDirty=!1,this.container.data("itemHeightsInitialized",!0)}r=Math.max(1,Math.min(r,u)),a=this.outerOffset,"center"==this.align&&(a+=~~(.5+(o-(r*n-this.offset))>>1)),this.direction=this.direction||("right"==this.align?"right":"left"),s=e||null===this.columns||this.columns.length!=r||this.activeItemCount!=u?this.layoutFull(n,r,a):this.layoutColumns(n,a),this.activeItemCount=u,this.container.css("height",s),this.fillEmptySpace&&this.refreshPlaceholders(n,a),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},i.prototype.sortElements=function(e){return"function"==typeof this.comparator?e.sort(this.comparator):e},i.prototype.layoutFull=function(n,i,o){var r,a,s=0,c=0,l=e.makeArray(this.getActiveItems()),u=l.length,d=null,f=null,h=[],p=[],m="left"==this.align?!0:!1;for(this.columns=[],l=this.sortElements(l);h.length<i;)h.push(this.outerOffset),this.columns.push([]);for(;u>s;s++){for(r=e(l[s]),d=h[0],f=0,c=0;i>c;c++)h[c]<d&&(d=h[c],f=c);r.data("wookmark-top",d),a=o,(f>0||!m)&&(a+=f*n),(p[s]={obj:r,css:{position:"absolute",top:d}}).css[this.direction]=a,h[f]+=r.data("wookmark-height")+this.verticalOffset,this.columns[f].push(r)}return t(p),Math.max.apply(Math,h)},i.prototype.layoutColumns=function(e,n){for(var i,o,r,a,s=[],c=[],l=0,u=0,d=0;l<this.columns.length;l++){for(s.push(this.outerOffset),o=this.columns[l],a=l*e+n,i=s[l],u=0;u<o.length;u++,d++)r=o[u].data("wookmark-top",i),(c[d]={obj:r,css:{top:i}}).css[this.direction]=a,i+=r.data("wookmark-height")+this.verticalOffset;s[l]=i}return t(c),Math.max.apply(Math,s)},i.prototype.clear=function(){clearTimeout(this.resizeTimer),s.unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh),this.handler.wookmarkInstance=null},i}(),e.fn.wookmark=function(e){return this.wookmarkInstance?this.wookmarkInstance.update(e||{}):this.wookmarkInstance=new i(this,e||{}),this.wookmarkInstance.layout(!0),this.show()}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("../../../../../../../../weixinpl/back_newshops/Common/css/Base/home_decoration/yzzj/js/jquery"):jQuery)}(function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function n(e){return s.raw?e:decodeURIComponent(e)}function i(e){return t(s.json?JSON.stringify(e):String(e))}function o(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),s.json?JSON.parse(e):e}catch(t){}}function r(t,n){var i=s.raw?t:o(t);return e.isFunction(n)?n(i):i}var a=/\+/g,s=e.cookie=function(o,a,c){if(void 0!==a&&!e.isFunction(a)){if(c=e.extend({},s.defaults,c),"number"==typeof c.expires){var l=c.expires,u=c.expires=new Date;u.setTime(+u+864e5*l)}return document.cookie=[t(o),"=",i(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var d=o?void 0:{},f=document.cookie?document.cookie.split("; "):[],h=0,p=f.length;p>h;h++){var m=f[h].split("="),v=n(m.shift()),g=m.join("=");if(o&&o===v){d=r(g,a);break}o||void 0===(g=r(g))||(d[v]=g)}return d};s.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(){var e=jQuery.event.special,t="D"+ +new Date,n="D"+(+new Date+1);e.scrollstart={setup:function(){var n,i=function(t){var i=this,o=arguments;n?clearTimeout(n):(t.type="scrollstart",jQuery.event.dispatch.apply(i,o)),n=setTimeout(function(){n=null},e.scrollstop.latency)};jQuery(this).bind("scroll",i).data(t,i)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(t))}},e.scrollstop={latency:300,setup:function(){var t,i=function(n){var i=this,o=arguments;t&&clearTimeout(t),t=setTimeout(function(){t=null,n.type="scrollstop",jQuery.event.dispatch.apply(i,o)},e.scrollstop.latency)};jQuery(this).bind("scroll",i).data(n,i)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(n))}}}(),function(e,t,n,i){var o=e(t);e.fn.lazyload=function(r){function a(){var t=0;c.each(function(){var n=e(this);if(!l.skip_invisible||n.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else n.trigger("appear"),t=0})}var s,c=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(i!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),i!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),e.extend(l,r)),s=l.container===i||l.container===t?o:e(l.container),0===l.event.indexOf("scroll")&&s.bind(l.event,function(){return a()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,(n.attr("src")===i||n.attr("src")===!1)&&n.is("img")&&n.attr("src",l.placeholder),n.one("appear",function(){if(!this.loaded){if(l.appear){var i=c.length;l.appear.call(t,i,l)}e("<img />").bind("load",function(){var i=n.attr("data-"+l.data_attribute);n.hide(),n.is("img")?n.attr("src",i):n.css("background-image","url('"+i+"')"),n[l.effect](l.effect_speed),t.loaded=!0;var o=e.grep(c,function(e){return!e.loaded});if(c=e(o),l.load){var r=c.length;l.load.call(t,r,l)}}).attr("src",n.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&n.bind(l.event,function(){t.loaded||n.trigger("appear")})}),o.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&c.each(function(){e(this).trigger("appear")})}),e(n).ready(function(){a()}),this},e.belowthefold=function(n,r){var a;return a=r.container===i||r.container===t?(t.innerHeight?t.innerHeight:o.height())+o.scrollTop():e(r.container).offset().top+e(r.container).height(),a<=e(n).offset().top-r.threshold},e.rightoffold=function(n,r){var a;return a=r.container===i||r.container===t?o.width()+o.scrollLeft():e(r.container).offset().left+e(r.container).width(),a<=e(n).offset().left-r.threshold},e.abovethetop=function(n,r){var a;return a=r.container===i||r.container===t?o.scrollTop():e(r.container).offset().top,a>=e(n).offset().top+r.threshold+e(n).height()},e.leftofbegin=function(n,r){var a;return a=r.container===i||r.container===t?o.scrollLeft():e(r.container).offset().left,a>=e(n).offset().left+r.threshold+e(n).width()},e.inviewport=function(t,n){return!(e.rightoffold(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),function(){$(document).on("pageinit","#address-index-page",function(){var e;return e=this,$(".btn-delete",e).click(function(){var e,t;return e=$(this).closest("tr"),t=e.data("id"),$.ajax({type:"delete",url:"/address/"+t,dataType:"json",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(){return e.remove()}})}),$(".btn-set-default",e).click(function(){var t,n;return log.warn("start set default"),t=$(this).closest("tr"),n=t.data("id"),$.ajax({type:"patch",url:"/address/"+n,dataType:"json",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(){return log.warn("set default OK"),$("tr",e).removeClass("default"),t.addClass("default")}})})})}.call(this),function(){$(document).on("pageshow","#alipay-page",function(){var e;return e=this,$.mobile.loading("show",{text:"\u6b63\u5728\u8fde\u63a5\u652f\u4ed8\u5b9d...",textVisible:!0}),$("#alipaysubmit",e).submit()})}.call(this),function(){$(document).on("pageshow","#allinpay-page",function(){var e;return e=this,$.mobile.loading("show",{text:"\u6b63\u5728\u8fde\u63a5\u901a\u8054\u652f\u4ed8...",textVisible:!0}),$("#allinpaysubmit",e).submit()})}.call(this),function(){$(document).on("pageshow","#auth-page",function(){var e,t,n,i,o,r;return e=$(this),o=e.data("state"),i=e.data("time"),$.mobile.loading("show",{text:"\u767b\u5f55\u4e2d\uff0c\u8bf7\u7a0d\u5019......",textVisible:!0}),r=1e3,n={state:o,time:i,authenticity_token:token},t=function(){return $.post("/auth/check",n,function(e){return"authorized"===e.state?location.replace(e.url):(5e3>r&&(r+=1e3),setTimeout(t,r))},"json")},setTimeout(t,r)})}.call(this),function(){$(document).on("pageshow","#category-page",function(e){var t,n,i,o,r;return r=this,n=$(this),o=n.data("member-sn"),i=n.data("member-subscribe"),$(".item-link",r).each(function(){var e,t,n;return e=$(this),n=e.data("product-sn"),t=e.data("member-only"),t?i?e.attr("href","/"+n+o):e.addClass("link-to-subscribe"):e.attr("href","/"+n+o)}),t=$(".product-container",r),t.imagesLoaded(function(){return t.find("li.box").wookmark({container:t,itemWidth:"50%",autoResize:!0,offset:0}),t.trigger("refreshWookmark")}),$(window).resize(function(){return t.trigger("refreshWookmark")}),$("#site_nav").click(function(){return $(".site-nav").slideToggle("fast")}),$(document).scroll(function(){return $(this).scrollTop()>100?$("#back-top").fadeIn():$("#back-top").fadeOut()}),$("#back-top a").click(function(){return $("body,html").animate({scrollTop:0},800),!1}),$.ajax({type:"get",url:"/carts/quantity",dataType:"json",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(e){return $("span.ui-count").text(e.quantity),e.quantity>0?$("span.ui-count").show():$("span.ui-count").hide()}}),$(".btn-to-subscribe",r).click(function(){return e.stopPropagation(),$("body").css("overflow-y","hidden"),$(".subscribe-box").show()}),$(".link-to-subscribe",r).click(function(){return e.stopPropagation(),$("body").css("overflow-y","hidden"),$(".subscribe-box").show()}),$(".btn-know",r).click(function(){return e.stopPropagation(),$("body").css("overflow-y","auto"),$(".subscribe-box").hide()}),$("img.lazy").lazyload()})}.call(this),function(){$(document).on("pageshow","#edit-member-page",function(){var e,t,n,i;return i=this,$.mobile.loading("hide"),t=$("#member_bank_address_code").val()||"[20,1972]",n={data:districtData2,selClass:"form-control",selStyle:"margin-top: 0.5em;",maxWidth:"100%",select:["#bank-address","#bank-address2"],head:"\u8bf7\u9009\u62e9...",loaderImg:"/images/ajax-loader.gif",defVal:JSON.parse(t),onChange:function(){var t,n;return t=e.getSelectedArr(),$("#member_bank_address_code").val(JSON.stringify(t)),n=e.getSelectedDataArr("name"),$("#member_bank_province").val(n[0]),$("#member_bank_city").val(n[1])}},e=new LinkageSel(n),$(".btn-edit",i).click(function(){var e;return e=$(this).closest("form"),$(this).button({disabled:!0}),$.mobile.loading("show",{text:"\u6b63\u5728\u63d0\u4ea4\u8bf7\u6c42\uff0c\u8bf7\u7a0d\u5019...",textVisible:!0}),""===$("#member_bank_city").val()||""===$("#member_bank_province").val()||""===$("#member_bank_name").val()?($.mobile.loading("hide"),alert("\u8bf7\u9009\u62e9\u94f6\u884c\u4fe1\u606f"),$(this).button({disabled:!1}),!1):e.submit()})})}.call(this),function(){$(document).on("pageinit","#member-fees-page",function(e){var t;return t=this,$(".btn-money",t).click(function(){return e.stopPropagation(),$("body").css("overflow-y","hidden"),$(".feeback-box").show()}),$(".btn-know",t).click(function(){return e.stopPropagation(),$("body").css("overflow-y","auto"),$(".feeback-box").hide()}),$("#select_month").change(function(){return window.location.href="/members/fees?month="+$(this).val()}),$("#agent_select_month").change(function(){return window.location.href="/members/sales_fees?month="+$(this).val()}),$(document).delegate("#member-fees-page","pageshow",function(){return $("#select_month").val($("#select_month").data("value")),$("#select_month").selectmenu("refresh"),$("#agent_select_month").val($("#agent_select_month").data("value")),$("#agent_select_month").selectmenu("refresh")})})}.call(this),function(){$(document).on("pageshow","#pack-pay-page",function(){var e,t,n,i,o,r;return r=this,t=$(r),i=t.data("id"),e=$("input[name=mobile]",r),n=$.cookie("f_"+i),void 0===n?$.get("/pay/flowpack/flow_id",function(e){return n=e.flow_id,$.cookie("f_"+i,n)}):(o=$.cookie("fp_mdn"),o&&e.val(o)),$(".btn-get-code",r).click(function(t){var a,s,c,l;return t.preventDefault(),o=e.val(),/^\d{11}$/.test(o)?($.cookie("fp_mdn",o),a=$(this),a.prop("disabled",!0),s=a.text(),l="/pay/flowpack/code",c={id:i,mobile:o,flow_id:n,authenticity_token:$("input[name=authenticity_token]").val()},$.mobile.loading("show",{text:"\u6b63\u5728\u53d1\u9001\u83b7\u53d6\u9a8c\u8bc1\u7801\u8bf7\u6c42...",textVisible:!0}),$.post(l,c,function(e){var t,n;return $.mobile.loading("hide"),"0"!==e.code?(alert(e.msg),void a.prop("disabled",!1)):(n=60,t=function(){return n>0?(a.text(s+"("+n+")"),n-=1,setTimeout(t,1e3)):(a.prop("disabled",!1),a.text(s))},setTimeout(t,1e3))}),$(".btn-order",r).prop("disabled",!1)):void alert("\u8bf7\u8f93\u5165\u6709\u6548\u624b\u673a\u53f7\u7801")}),$(".btn-order",r).click(function(t){var r,a,s,c;return t.preventDefault(),r=$(this),r.prop("disabled",!0),o=e.val(),/^\d{11}$/.test(o)?(a=$("input[name=code]").val(),/^\d{6}$/.test(a)?(s={id:i,code:a,mobile:o,flow_id:n,authenticity_token:$("input[name=authenticity_token]").val()},$.removeCookie("f_"+i),$.removeCookie("fp_mdn"),$.mobile.loading("show",{text:"\u6b63\u5728\u8fde\u63a5\u8ba2\u8d2d\u670d\u52a1...",textVisible:!0}),c="/pay/flowpack/order",$.post(c,s,function(e){return $.mobile.loading("hide"),alert(e.msg),"OK"===e.status?location.replace(e.url):void 0})):void alert("\u8bf7\u8f93\u5165\u6709\u6548\u9a8c\u8bc1\u7801")):void alert("\u8bf7\u8f93\u5165\u6709\u6548\u624b\u673a\u53f7\u7801")})})}.call(this),function(){$(document).delegate("#home-page","pageshow",function(e){var t,n,i,o;return log.info("item page show."),o=this,t=$(this),i=t.data("member-sn"),n=t.data("member-subscribe"),$(".item-link",o).each(function(){var e,t,o;return e=$(this),o=e.data("product-sn"),t=e.data("member-only"),t?n?e.attr("href","/"+o+i):e.addClass("link-to-subscribe"):e.attr("href","/"+o+i)}),$("#slider",o).flexslider({animation:"slide",controlNav:!1,animationLoop:!0,slideshow:!0,startAt:0,before:function(e){var t,n;return t=e.find(".slides").children().eq(e.animatingTo).next().next().find("img"),n=t.attr("data-src"),n?t.attr("src",n).removeAttr("data-src").removeClass("lazy"):void 0}}),$("#site_nav").click(function(){return $(".site-nav").slideToggle("fast")}),$(".desc-box img").load(function(){var e,t;return e=$(".desc-box",o).width(),t=$(this).width(),t>=e?$(this).css("width","100%").removeAttr("width").removeAttr("height"):void 0}),$(document).scroll(function(){return $(this).scrollTop()>100?$("#back-top").fadeIn():$("#back-top").fadeOut()}),$("#back-top a").click(function(){return $("body,html").animate({scrollTop:0},800),!1}),$(".btn-to-subscribe",o).click(function(){return e.stopPropagation(),$("body").css("overflow-y","hidden"),$(".subscribe-box").show()}),$(".link-to-subscribe",o).click(function(){return e.stopPropagation(),$("body").css("overflow-y","hidden"),$(".subscribe-box").show()}),$(".btn-know",o).click(function(){return e.stopPropagation(),$("body").css("overflow-y","auto"),$(".subscribe-box").hide()}),$(".image.lazy").lazyload()})}.call(this),function(){$(document).on("pageinit","#item-page",function(e){var t,n,i,o,r;return log.info("item page init."),n=this,i=$(n).data("id"),r=$(n).data("stock-enabled"),o=$(n).data("psn"),t=$("#myTip",n),$(".btn-qrcode",n).click(function(){var t;return e.stopPropagation(),$("body").css("overflow-y","hidden"),t=$(".qrcode-box").show(),0===t.find(".qrcode img").size()?($.mobile.loading("show",{text:"\u6b63\u5728\u751f\u6210\u4e8c\u7ef4\u7801\uff0c\u8bf7\u7a0d\u5019...",textVisible:!0}),$.ajax({type:"post",dataType:"json",url:"/members/qrcode",data:{psn:o},headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(e){var n;return $.mobile.loading("hide"),log.info("get snap qrcode",e),"OK"===e.status?(n=$("<img/>",{src:e.url}),t.find(".qrcode").append(n)):toastr.error(e.msg)}})):void 0}),$(".qrcode-box",n).click(function(){return log.debug(".qrcode-box click")}),e.stopPropagation(),$(".btn-know",n).click(function(){var t;return $("body").css("overflow-y","auto"),t=$(".qrcode-box").hide(),e.stopPropagation()})}),$(document).delegate("#item-page","pageshow",function(){var e;return log.info("item page show."),e=this,$("#slider",e).flexslider({animation:"slide",controlNav:!0,animationLoop:!1,slideshow:!1,before:function(e){var t,n;return t=e.find(".slides").children().eq(e.animatingTo).find("img"),n=t.attr("data-src"),n?t.attr("src",n).removeAttr("data-src").removeClass("lazy"):void 0}}),$(".desc-box img").load(function(){var t,n;return t=$(".desc-box",e).width(),n=$(this).width(),n>=t?$(this).css("width","100%").removeAttr("width").removeAttr("height"):void 0}),$(".desc-box img.lazy").lazyload(),setTimeout(function(){return $(".desc-box iframe").each(function(e,t){var n,i,o,r,a;return a=$(".desc-box").width(),n=$(t),r=n.width(),o=n.height(),i=a*o/r,n.width("100%"),n.height(i),$(window).on("resize",function(){return a=$(".desc-box").width(),i=a*o/r,n.height(i)})})})})}.call(this),function(){this.LogService={info:function(e){var t,n;return n="/log/info",t={msg:e.toString(),authenticity_token:$("meta[name=csrf-token]").attr("content")},$.post(n,t)},error:function(e){var t,n;return n="/log/error",t={msg:e.toString(),authenticity_token:$("meta[name=csrf-token]").attr("content")},$.post(n,t)}}}.call(this),function(){$(document).on("pageshow","#member-index-page",function(){var e;return e=this,$.mobile.loading("hide"),$("#stop-msg-flipswitch").change(function(){var e,t;return e=$(this).data("member-id"),t=$("option:selected",this).val(),$.ajax({type:"post",dataType:"json",url:"/members/"+e+"/message/"+t,headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(e){return log.info("Set message ",e)}})}),$("#enable_msg_switch").change(function(){var e,t;return e=$(this).data("member-id"),t=0,$("#enable_msg_switch").is(":checked")&&(t=1),$.ajax({type:"post",dataType:"json",url:"/members/"+e+"/message/"+t,headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(e){return log.info("Set message ",e)}})})})}.call(this),function(){$(document).on("pageinit","#order-page",function(){var e;return e=this,$(".btn-cancel-order",e).click(function(){var t,n,i;return log.info("cancel order"),t=$(this),i=t.data("payment-order-id"),n=$(".cancel-confirm-box",e).show(),n.find(".btn-confirm").off("click").on("click",function(){return log.info("confirm OK"),$.ajax({type:"get",dataType:"json",url:"/orders/"+i+"/cancel",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(e){return log.info("cancel OK",e),n.hide(),window.location.reload()}})}),n.find(".btn-cancel").off("click").on("click",function(){return n.hide()})}),$(".btn-repay",e).click(function(){return $("#repay-box").css("top","60%")}),$(".icons-close",e).click(function(){return $("#repay-box").css("top","100%")}),$(".btn-pay",e).click(function(){var e;return e=$(this).data("url"),location.replace(e)}),$(".btn-refund-order",e).click(function(){var t,n,i;
return log.info("apply refund order"),t=$(this),i=t.data("order-id"),n=$(".refund-confirm-box",e).show(),n.find(".btn-confirm").off("click").on("click",function(){return log.info("confirm OK"),$.ajax({type:"get",dataType:"json",url:"/orders/"+i+"/apply_refund",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(e){return log.info("refund OK",e),n.hide(),window.location.reload()}})}),n.find(".btn-cancel").off("click").on("click",function(){return n.hide()})}),$(".btn-cancel-refund-order",e).click(function(){var t,n,i;return log.info("apply cancel refund order"),t=$(this),i=t.data("order-id"),n=$(".cancel-refund-confirm-box",e).show(),n.find(".btn-confirm").off("click").on("click",function(){return log.info("confirm OK"),$.ajax({type:"get",dataType:"json",url:"/orders/"+i+"/cancel_refund",headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},success:function(e){return log.info("refund OK",e),n.hide(),window.location.reload()}})}),n.find(".btn-cancel").off("click").on("click",function(){return n.hide()})})})}.call(this),function(){$(document).on("pageshow","#pay-index-page",function(){var e,t;return $.mobile.loading("hide"),log.warn("show loading"),$.mobile.loading("show",{text:"\u6b63\u5728\u8df3\u8f6c\u5230\u652f\u4ed8\u9875\u9762\uff0c\u8bf7\u7a0d\u5019...",textVisible:!0}),e=$(this).data("flow-id"),t=function(){return log.warn("notify"),$.do_get("/pay/notify",{flow_id:e})},setTimeout(t,3e3)})}.call(this),function(){$(document).on("pageinit","#weixin-pay-index-page",function(e){var t,n;return n=e.target,t=$(n).data("id"),document.addEventListener("WeixinJSBridgeReady",function(){return $.getJSON("/pay/weixin/data",{id:t},function(e){return WeixinJSBridge.invoke("getBrandWCPayRequest",e,function(e){return $.mobile.loading("hide"),"get_brand_wcpay_request:ok"===e.err_msg?(toastr.info("\u652f\u4ed8\u8bf7\u6c42\u6210\u529f"),location.replace("/orders/?status=shipped")):(alert("\u652f\u4ed8\u8bf7\u6c42\u88ab\u53d6\u6d88\uff0c\u539f\u56e0\uff1a"+e.err_msg),location.replace("/orders?status=unpaid"))})})})}),$(document).on("pageshow","#weixin-pay-index-page",function(){return $.mobile.loading("show",{text:"\u5fae\u4fe1\u652f\u4ed8\u8fde\u63a5\u4e2d\uff0c\u8bf7\u7a0d\u5019...",textVisible:!0})})}.call(this),function(){$(document).on("pageinit","#wxpay-index-page",function(e){var t,n;return n=e.target,t=$(n).data("id"),document.addEventListener("WeixinJSBridgeReady",function(){return $.getJSON("/pay/wxpay/data",{id:t},function(e){return WeixinJSBridge.invoke("getBrandWCPayRequest",e,function(e){return $.mobile.loading("hide"),"get_brand_wcpay_request:ok"===e.err_msg?(toastr.info("\u652f\u4ed8\u8bf7\u6c42\u6210\u529f"),location.replace("/orders/?status=shipped")):(alert("\u652f\u4ed8\u8bf7\u6c42\u88ab\u53d6\u6d88\uff0c\u539f\u56e0\uff1a"+e.err_msg),location.replace("/orders?status=unpaid"))})})})}),$(document).on("pageshow","#wxpay-index-page",function(){return $.mobile.loading("show",{text:"\u5fae\u4fe1\u652f\u4ed8\u8fde\u63a5\u4e2d\uff0c\u8bf7\u7a0d\u5019...",textVisible:!0})})}.call(this),function(){}.call(this);